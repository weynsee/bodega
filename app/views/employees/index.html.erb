<div class="row">
  <div class="col-lg-12">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3">
      <h2>Employees</h2>
      <div class="mb-2 mb-md-0">
        <%= link_to 'Add new employee', new_employee_path, class: 'btn btn-dark' %>
      </div>
    </div>
    <div>
      <table class="table table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Rate</th>
            <th scope="col">Rate Type</th>
            <th scope="col">Rice Allowance</th>
            <th scope="col">Overtime</th>
            <th scope="col">Month End</th>
            <th scope="col">Year End</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @employees.each do |employee| %>
            <tr class="<%= 'table-warning' if employee.inactive? %>">
              <th scope="row"><%= employee.name %></th>
              <td><%= number_to_currency employee.rate %></td>
              <td><%= employee.rate_type.humanize %></td>
              <td><%= number_to_currency employee.rice_allowance_rate %></td>
              <td><%= number_to_currency employee.overtime_rate %></td>
              <td><%= number_to_currency employee.month_end_rate %></td>
              <td><%= number_to_currency employee.year_end_rate %></td>
              <td>
                <div class="btn-group btn-group-sm" role="group">
                  <%= link_to 'Edit', edit_employee_path(employee),
                    class: 'btn btn-secondary p-2' %>
                  <%= link_to 'Delete', employee_path(employee),
                    remote: true,
                    method: :delete,
                    data: {
                      confirm: 'Are you sure you want to delete this record?'
                    },
                    class: 'btn btn-danger p-2' %>
                  <div class="btn-group">
                    <%= render 'create_advance_dropdown',
                      label: '&plus; Advance'.html_safe, employee: employee %>
                  </div>
                  <div class="btn-group" role="group">
                    <%= render 'create_payslip_dropdown',
                      label: '&plus; Payslip'.html_safe, employee: employee %>
                  </div>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <nav aria-label="Employee list navigation">
      <%= pagy_nav_bootstrap(@pagy).html_safe %>
    </nav>
  </div>
</div>
